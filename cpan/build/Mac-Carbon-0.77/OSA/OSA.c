/*
 * This file was generated automatically by xsubpp version 1.9508 from the
 * contents of OSA.xs. Do not edit this file, edit OSA.xs instead.
 *
 *	ANY CHANGES MADE HERE WILL BE LOST!
 *
 */

#line 1 "OSA.xs"
/* $Header: /cvsroot/macperl/perl/macos/ext/Mac/OSA/OSA.xs,v 1.7 2005/05/15 04:53:25 pudge Exp $
 *
 *    Copyright (c) 1996 Matthias Neeracher
 *
 *    You may distribute under the terms of the Perl Artistic License,
 *    as specified in the README file.
 *
 * $Log: OSA.xs,v $
 * Revision 1.7  2005/05/15 04:53:25  pudge
 * Add OSAGetAppTerminology to Mac::OSA
 *
 * Revision 1.6  2005/03/09 23:25:03  pudge
 * Fix Makefile to work with latest ExtUtils::MakeMaker beta. (Michael Schwern)
 *
 * Add OSAGetProperty/OSASetProperty to Mac::OSA.
 *
 * Add some additional example files.
 *
 * Revision 1.5  2003/06/25 04:37:50  pudge
 * OK, a better solution
 *
 * Revision 1.4  2003/06/25 02:22:21  pudge
 * Fix OSADoEvent, bump version
 *
 * Revision 1.3  2002/12/10 02:12:06  pudge
 * Add Carbon support
 *
 * Revision 1.2  2000/09/09 22:18:28  neeri
 * Dynamic libraries compile under 5.6
 *
 * Revision 1.1  2000/08/14 03:39:32  neeri
 * Checked into Sourceforge
 *
 * Revision 1.2  1997/11/18 00:53:06  neeri
 * MacPerl 5.1.5
 *
 * Revision 1.1  1997/04/07 20:50:21  neeri
 * Synchronized with MacPerl 5.1.4a1
 *
 */

#define MAC_CONTEXT

#include "EXTERN.h"
#include "perl.h"
#include "XSUB.h"
#ifndef MACOS_TRADITIONAL
#include "../Carbon.h"
#endif
#include <Types.h>
#include <Memory.h>
#include <OSA.h>
#include <OSAGeneric.h>
#include <ASDebugging.h>

#line 66 "OSA.c"
XS(XS_Mac__OSA_OSALoad); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSALoad)
{
    dXSARGS;
    if (items != 3)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSALoad(scriptingComponent, scriptData, modeFlags)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	AEDesc	scriptData;
	long	modeFlags = (long)SvIV(ST(2));
	OSAID	RETVAL;
	dXSTARG;

	if (sv_isa(ST(1), "AEDesc"))
	    memcpy(&scriptData, SvPV_nolen((SV*)SvRV(ST(1))), sizeof(AEDesc));
	else
	    croak("scriptData is not of type AEDesc");
#line 81 "OSA.xs"
	if (gMacPerl_OSErr = (short) OSALoad(scriptingComponent, &scriptData, modeFlags, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 88 "OSA.c"
	XSprePUSH; PUSHu((UV)RETVAL);
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSAStore); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSAStore)
{
    dXSARGS;
    if (items != 4)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSAStore(scriptingComponent, scriptID, desiredType, modeFlags)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	OSAID	scriptID = (unsigned long)SvUV(ST(1));
	OSType	desiredType;
	long	modeFlags = (long)SvIV(ST(3));
	AEDesc	RETVAL;

	memcpy(&desiredType, SvPV_nolen(ST(2)), sizeof(OSType));
	desiredType = ntohl(desiredType);
#line 103 "OSA.xs"
	if (gMacPerl_OSErr = (short) OSAStore(scriptingComponent, scriptID, desiredType, modeFlags, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 113 "OSA.c"
	ST(0) = sv_newmortal();
	sv_setref_pvn(ST(0), "AEDesc", (void*)&RETVAL, sizeof(AEDesc));
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSAExecute); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSAExecute)
{
    dXSARGS;
    if (items != 4)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSAExecute(scriptingComponent, compiledScriptID, contextID, modeFlags)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	OSAID	compiledScriptID = (unsigned long)SvUV(ST(1));
	OSAID	contextID = (unsigned long)SvUV(ST(2));
	long	modeFlags = (long)SvIV(ST(3));
	OSAID	RETVAL;
	dXSTARG;
#line 126 "OSA.xs"
	if (gMacPerl_OSErr = (short) OSAExecute(scriptingComponent, compiledScriptID, contextID, modeFlags, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 137 "OSA.c"
	XSprePUSH; PUSHu((UV)RETVAL);
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSADisplay); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSADisplay)
{
    dXSARGS;
    if (items != 4)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSADisplay(scriptingComponent, scriptValueID, desiredType, modeFlags)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	OSAID	scriptValueID = (unsigned long)SvUV(ST(1));
	OSType	desiredType;
	long	modeFlags = (long)SvIV(ST(3));
	AEDesc	RETVAL;

	memcpy(&desiredType, SvPV_nolen(ST(2)), sizeof(OSType));
	desiredType = ntohl(desiredType);
#line 149 "OSA.xs"
	if (gMacPerl_OSErr = (short) OSADisplay(scriptingComponent, scriptValueID, desiredType, modeFlags, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 162 "OSA.c"
	ST(0) = sv_newmortal();
	sv_setref_pvn(ST(0), "AEDesc", (void*)&RETVAL, sizeof(AEDesc));
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSAScriptError); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSAScriptError)
{
    dXSARGS;
    if (items != 3)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSAScriptError(scriptingComponent, selector, desiredType)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	OSType	selector;
	OSType	desiredType;
	AEDesc	RETVAL;

	memcpy(&selector, SvPV_nolen(ST(1)), sizeof(OSType));
	selector = ntohl(selector);

	memcpy(&desiredType, SvPV_nolen(ST(2)), sizeof(OSType));
	desiredType = ntohl(desiredType);
#line 174 "OSA.xs"
	if (gMacPerl_OSErr = (short) OSAScriptError(scriptingComponent, selector, desiredType, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 190 "OSA.c"
	ST(0) = sv_newmortal();
	sv_setref_pvn(ST(0), "AEDesc", (void*)&RETVAL, sizeof(AEDesc));
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSADispose); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSADispose)
{
    dXSARGS;
    if (items != 2)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSADispose(scriptingComponent, scriptID)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	OSAID	scriptID = (unsigned long)SvUV(ST(1));
	OSAError	RETVAL;
	dXSTARG;

	RETVAL = OSADispose(scriptingComponent, scriptID);
	XSprePUSH; PUSHi((IV)!(gMacPerl_OSErr = (short)(RETVAL)));
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSASetScriptInfo); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSASetScriptInfo)
{
    dXSARGS;
    if (items != 4)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSASetScriptInfo(scriptingComponent, scriptID, selector, value)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	OSAID	scriptID = (unsigned long)SvUV(ST(1));
	OSType	selector;
	long	value = (long)SvIV(ST(3));
	OSAError	RETVAL;
	dXSTARG;

	memcpy(&selector, SvPV_nolen(ST(2)), sizeof(OSType));
	selector = ntohl(selector);

	RETVAL = OSASetScriptInfo(scriptingComponent, scriptID, selector, value);
	XSprePUSH; PUSHi((IV)!(gMacPerl_OSErr = (short)(RETVAL)));
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSAGetScriptInfo); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSAGetScriptInfo)
{
    dXSARGS;
    if (items != 3)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSAGetScriptInfo(scriptingComponent, scriptID, selector)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	OSAID	scriptID = (unsigned long)SvUV(ST(1));
	OSType	selector;
	long	RETVAL;
	dXSTARG;

	memcpy(&selector, SvPV_nolen(ST(2)), sizeof(OSType));
	selector = ntohl(selector);
#line 224 "OSA.xs"
	if (gMacPerl_OSErr = (short) OSAGetScriptInfo(scriptingComponent, scriptID, selector, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 257 "OSA.c"
	XSprePUSH; PUSHi((IV)RETVAL);
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSASetProperty); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSASetProperty)
{
    dXSARGS;
    if (items != 5)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSASetProperty(scriptingComponent, modeFlags, contextID, variableName, scriptValueID)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	long	modeFlags = (long)SvIV(ST(1));
	OSAID	contextID = (unsigned long)SvUV(ST(2));
	AEDesc	variableName;
	OSAID	scriptValueID = (unsigned long)SvUV(ST(4));
	OSAError	RETVAL;
	dXSTARG;

	if (sv_isa(ST(3), "AEDesc"))
	    memcpy(&variableName, SvPV_nolen((SV*)SvRV(ST(3))), sizeof(AEDesc));
	else
	    croak("variableName is not of type AEDesc");
#line 244 "OSA.xs"
	if (gMacPerl_OSErr = (short) OSASetProperty(scriptingComponent, modeFlags, contextID, &variableName, scriptValueID)) {
		XSRETURN_UNDEF;
	}
#line 286 "OSA.c"
	XSprePUSH; PUSHi((IV)!(gMacPerl_OSErr = (short)(RETVAL)));
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSAGetProperty); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSAGetProperty)
{
    dXSARGS;
    if (items != 4)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSAGetProperty(scriptingComponent, modeFlags, contextID, variableName)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	long	modeFlags = (long)SvIV(ST(1));
	OSAID	contextID = (unsigned long)SvUV(ST(2));
	AEDesc	variableName;
	AEDesc	RETVAL;

	if (sv_isa(ST(3), "AEDesc"))
	    memcpy(&variableName, SvPV_nolen((SV*)SvRV(ST(3))), sizeof(AEDesc));
	else
	    croak("variableName is not of type AEDesc");
#line 263 "OSA.xs"
	OSAID					scriptValueID;
	if (gMacPerl_OSErr = (short) OSAGetProperty(scriptingComponent, modeFlags, contextID, &variableName, &scriptValueID)) {
		XSRETURN_UNDEF;
	}
	if (gMacPerl_OSErr = (short) OSACoerceToDesc(scriptingComponent, scriptValueID, typeObjectSpecifier, kOSAModeNull, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 317 "OSA.c"
	ST(0) = sv_newmortal();
	sv_setref_pvn(ST(0), "AEDesc", (void*)&RETVAL, sizeof(AEDesc));
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSAGetAppTerminology); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSAGetAppTerminology)
{
    dXSARGS;
    if (items < 3 || items > 4)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSAGetAppTerminology(scriptingComponent, modeFlags, file, terminologyID=0)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	long	modeFlags = (long)SvIV(ST(1));
	FSSpec	file;
	short	terminologyID;
	AEDesc	RETVAL;

	if (GUSIPath2FSp((char *) SvPV_nolen(ST(2)), &file))
		croak("file is not a valid file specification");
	else
		0;

	if (items < 4)
	    terminologyID = 0;
	else {
	    terminologyID = (short)SvIV(ST(3));
	}
#line 286 "OSA.xs"
	Boolean				didLaunch;
	if (gMacPerl_OSErr = (short) OSAGetAppTerminology(scriptingComponent, modeFlags, &file, terminologyID, &didLaunch, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 352 "OSA.c"
	ST(0) = sv_newmortal();
	sv_setref_pvn(ST(0), "AEDesc", (void*)&RETVAL, sizeof(AEDesc));
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSAScriptingComponentName); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSAScriptingComponentName)
{
    dXSARGS;
    if (items != 1)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSAScriptingComponentName(scriptingComponent)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	AEDesc	RETVAL;
#line 306 "OSA.xs"
	if (gMacPerl_OSErr = (short) OSAScriptingComponentName(scriptingComponent, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 372 "OSA.c"
	ST(0) = sv_newmortal();
	sv_setref_pvn(ST(0), "AEDesc", (void*)&RETVAL, sizeof(AEDesc));
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSACompile); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSACompile)
{
    dXSARGS;
    if (items < 3 || items > 4)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSACompile(scriptingComponent, sourceData, modeFlags, previousScriptID = 0)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	AEDesc	sourceData;
	long	modeFlags = (long)SvIV(ST(2));
	OSAID	previousScriptID;
	OSAID	RETVAL;
	dXSTARG;

	if (sv_isa(ST(1), "AEDesc"))
	    memcpy(&sourceData, SvPV_nolen((SV*)SvRV(ST(1))), sizeof(AEDesc));
	else
	    croak("sourceData is not of type AEDesc");

	if (items < 4)
	    previousScriptID = 0;
	else {
	    previousScriptID = (unsigned long)SvUV(ST(3));
	}
#line 330 "OSA.xs"
	RETVAL = previousScriptID;
	if (gMacPerl_OSErr = (short) OSACompile(scriptingComponent, &sourceData, modeFlags, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 408 "OSA.c"
	XSprePUSH; PUSHu((UV)RETVAL);
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSACopyID); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSACopyID)
{
    dXSARGS;
    if (items < 2 || items > 3)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSACopyID(scriptingComponent, fromID, toID = 0)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	OSAID	fromID = (unsigned long)SvUV(ST(1));
	OSAID	toID;
	OSAID	RETVAL;
	dXSTARG;

	if (items < 3)
	    toID = 0;
	else {
	    toID = (unsigned long)SvUV(ST(2));
	}
#line 351 "OSA.xs"
	RETVAL = toID;
	if (gMacPerl_OSErr = (short) OSACopyID(scriptingComponent, fromID, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 437 "OSA.c"
	XSprePUSH; PUSHu((UV)RETVAL);
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSAGetSource); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSAGetSource)
{
    dXSARGS;
    if (items < 2 || items > 3)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSAGetSource(scriptingComponent, scriptID, desiredType = 'TEXT')");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	OSAID	scriptID = (unsigned long)SvUV(ST(1));
	OSType	desiredType;
	AEDesc	RETVAL;

	if (items < 3)
	    desiredType = 'TEXT';
	else {
	    memcpy(&desiredType, SvPV_nolen(ST(2)), sizeof(OSType));
	    desiredType = ntohl(desiredType);
	}
#line 371 "OSA.xs"
	if (gMacPerl_OSErr = (short) OSAGetSource(scriptingComponent, scriptID, desiredType, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 465 "OSA.c"
	ST(0) = sv_newmortal();
	sv_setref_pvn(ST(0), "AEDesc", (void*)&RETVAL, sizeof(AEDesc));
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSACoerceFromDesc); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSACoerceFromDesc)
{
    dXSARGS;
    if (items != 3)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSACoerceFromDesc(scriptingComponent, scriptData, modeFlags)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	AEDesc	scriptData;
	long	modeFlags = (long)SvIV(ST(2));
	OSAID	RETVAL;
	dXSTARG;

	if (sv_isa(ST(1), "AEDesc"))
	    memcpy(&scriptData, SvPV_nolen((SV*)SvRV(ST(1))), sizeof(AEDesc));
	else
	    croak("scriptData is not of type AEDesc");
#line 390 "OSA.xs"
	if (gMacPerl_OSErr = (short) OSACoerceFromDesc(scriptingComponent, &scriptData, modeFlags, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 493 "OSA.c"
	XSprePUSH; PUSHu((UV)RETVAL);
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSACoerceToDesc); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSACoerceToDesc)
{
    dXSARGS;
    if (items != 4)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSACoerceToDesc(scriptingComponent, scriptID, desiredType, modeFlags)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	OSAID	scriptID = (unsigned long)SvUV(ST(1));
	OSType	desiredType;
	long	modeFlags = (long)SvIV(ST(3));
	AEDesc	RETVAL;

	memcpy(&desiredType, SvPV_nolen(ST(2)), sizeof(OSType));
	desiredType = ntohl(desiredType);
#line 411 "OSA.xs"
	if (gMacPerl_OSErr = (short) OSACoerceToDesc(scriptingComponent, scriptID, desiredType, modeFlags, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 518 "OSA.c"
	ST(0) = sv_newmortal();
	sv_setref_pvn(ST(0), "AEDesc", (void*)&RETVAL, sizeof(AEDesc));
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSASetDefaultTarget); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSASetDefaultTarget)
{
    dXSARGS;
    if (items != 2)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSASetDefaultTarget(scriptingComponent, target)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	AEDesc	target;
	OSAError	RETVAL;
	dXSTARG;

	if (sv_isa(ST(1), "AEDesc"))
	    memcpy(&target, SvPV_nolen((SV*)SvRV(ST(1))), sizeof(AEDesc));
	else
	    croak("target is not of type AEDesc");

	RETVAL = OSASetDefaultTarget(scriptingComponent, &target);
	XSprePUSH; PUSHi((IV)!(gMacPerl_OSErr = (short)(RETVAL)));
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSAStartRecording); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSAStartRecording)
{
    dXSARGS;
    if (items < 1 || items > 2)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSAStartRecording(scriptingComponent, compiledScriptToModifyID = 0)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	OSAID	compiledScriptToModifyID;
	OSAID	RETVAL;
	dXSTARG;

	if (items < 2)
	    compiledScriptToModifyID = 0;
	else {
	    compiledScriptToModifyID = (unsigned long)SvUV(ST(1));
	}
#line 445 "OSA.xs"
	RETVAL = compiledScriptToModifyID;
	if (gMacPerl_OSErr = (short) OSAStartRecording(scriptingComponent, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 570 "OSA.c"
	XSprePUSH; PUSHu((UV)RETVAL);
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSAStopRecording); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSAStopRecording)
{
    dXSARGS;
    if (items != 2)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSAStopRecording(scriptingComponent, compiledScriptID)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	OSAID	compiledScriptID = (unsigned long)SvUV(ST(1));
	OSAError	RETVAL;
	dXSTARG;

	RETVAL = OSAStopRecording(scriptingComponent, compiledScriptID);
	XSprePUSH; PUSHi((IV)!(gMacPerl_OSErr = (short)(RETVAL)));
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSALoadExecute); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSALoadExecute)
{
    dXSARGS;
    if (items != 4)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSALoadExecute(scriptingComponent, scriptData, contextID, modeFlags)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	AEDesc	scriptData;
	OSAID	contextID = (unsigned long)SvUV(ST(2));
	long	modeFlags = (long)SvIV(ST(3));
	OSAID	RETVAL;
	dXSTARG;

	if (sv_isa(ST(1), "AEDesc"))
	    memcpy(&scriptData, SvPV_nolen((SV*)SvRV(ST(1))), sizeof(AEDesc));
	else
	    croak("scriptData is not of type AEDesc");
#line 487 "OSA.xs"
	if (gMacPerl_OSErr = (short) OSALoadExecute(scriptingComponent, &scriptData, contextID, modeFlags, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 616 "OSA.c"
	XSprePUSH; PUSHu((UV)RETVAL);
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSACompileExecute); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSACompileExecute)
{
    dXSARGS;
    if (items != 4)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSACompileExecute(scriptingComponent, sourceData, contextID, modeFlags)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	AEDesc	sourceData;
	OSAID	contextID = (unsigned long)SvUV(ST(2));
	long	modeFlags = (long)SvIV(ST(3));
	OSAID	RETVAL;
	dXSTARG;

	if (sv_isa(ST(1), "AEDesc"))
	    memcpy(&sourceData, SvPV_nolen((SV*)SvRV(ST(1))), sizeof(AEDesc));
	else
	    croak("sourceData is not of type AEDesc");
#line 511 "OSA.xs"
	if (gMacPerl_OSErr = (short) OSACompileExecute(scriptingComponent, &sourceData, contextID, modeFlags, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 644 "OSA.c"
	XSprePUSH; PUSHu((UV)RETVAL);
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSADoScript); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSADoScript)
{
    dXSARGS;
    if (items != 5)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSADoScript(scriptingComponent, sourceData, contextID, desiredType, modeFlags)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	AEDesc	sourceData;
	OSAID	contextID = (unsigned long)SvUV(ST(2));
	OSType	desiredType;
	long	modeFlags = (long)SvIV(ST(4));
	AEDesc	RETVAL;

	if (sv_isa(ST(1), "AEDesc"))
	    memcpy(&sourceData, SvPV_nolen((SV*)SvRV(ST(1))), sizeof(AEDesc));
	else
	    croak("sourceData is not of type AEDesc");

	memcpy(&desiredType, SvPV_nolen(ST(3)), sizeof(OSType));
	desiredType = ntohl(desiredType);
#line 535 "OSA.xs"
	if (gMacPerl_OSErr = (short) OSADoScript(scriptingComponent, &sourceData, contextID, desiredType, modeFlags, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 675 "OSA.c"
	ST(0) = sv_newmortal();
	sv_setref_pvn(ST(0), "AEDesc", (void*)&RETVAL, sizeof(AEDesc));
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSASetCurrentDialect); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSASetCurrentDialect)
{
    dXSARGS;
    if (items != 2)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSASetCurrentDialect(scriptingComponent, dialectCode)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	short	dialectCode = (short)SvIV(ST(1));
	OSAError	RETVAL;
	dXSTARG;

	RETVAL = OSASetCurrentDialect(scriptingComponent, dialectCode);
	XSprePUSH; PUSHi((IV)!(gMacPerl_OSErr = (short)(RETVAL)));
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSAGetCurrentDialect); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSAGetCurrentDialect)
{
    dXSARGS;
    if (items != 1)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSAGetCurrentDialect(scriptingComponent)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	short	RETVAL;
	dXSTARG;
#line 563 "OSA.xs"
	if (gMacPerl_OSErr = (short) OSAGetCurrentDialect(scriptingComponent, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 714 "OSA.c"
	XSprePUSH; PUSHi((IV)RETVAL);
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSAAvailableDialects); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSAAvailableDialects)
{
    dXSARGS;
    if (items != 1)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSAAvailableDialects(scriptingComponent)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	AEDesc	RETVAL;
#line 580 "OSA.xs"
	if (gMacPerl_OSErr = (short) OSAAvailableDialects(scriptingComponent, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 733 "OSA.c"
	ST(0) = sv_newmortal();
	sv_setref_pvn(ST(0), "AEDesc", (void*)&RETVAL, sizeof(AEDesc));
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSAGetDialectInfo); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSAGetDialectInfo)
{
    dXSARGS;
    if (items != 3)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSAGetDialectInfo(scriptingComponent, dialectCode, selector)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	short	dialectCode = (short)SvIV(ST(1));
	OSType	selector;
	AEDesc	RETVAL;

	memcpy(&selector, SvPV_nolen(ST(2)), sizeof(OSType));
	selector = ntohl(selector);
#line 601 "OSA.xs"
	if (gMacPerl_OSErr = (short) OSAGetDialectInfo(scriptingComponent, dialectCode, selector, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 758 "OSA.c"
	ST(0) = sv_newmortal();
	sv_setref_pvn(ST(0), "AEDesc", (void*)&RETVAL, sizeof(AEDesc));
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSAAvailableDialectCodeList); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSAAvailableDialectCodeList)
{
    dXSARGS;
    if (items != 1)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSAAvailableDialectCodeList(scriptingComponent)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	AEDesc	RETVAL;
#line 618 "OSA.xs"
	if (gMacPerl_OSErr = (short) OSAAvailableDialectCodeList(scriptingComponent, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 778 "OSA.c"
	ST(0) = sv_newmortal();
	sv_setref_pvn(ST(0), "AEDesc", (void*)&RETVAL, sizeof(AEDesc));
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSAExecuteEvent); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSAExecuteEvent)
{
    dXSARGS;
    if (items != 4)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSAExecuteEvent(scriptingComponent, theAppleEvent, contextID, modeFlags)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	AEDesc	theAppleEvent;
	OSAID	contextID = (unsigned long)SvUV(ST(2));
	long	modeFlags = (long)SvIV(ST(3));
	OSAID	RETVAL;
	dXSTARG;

	if (sv_isa(ST(1), "AEDesc"))
	    memcpy(&theAppleEvent, SvPV_nolen((SV*)SvRV(ST(1))), sizeof(AEDesc));
	else
	    croak("theAppleEvent is not of type AEDesc");
#line 639 "OSA.xs"
	if (gMacPerl_OSErr = (short) OSAExecuteEvent(scriptingComponent, &theAppleEvent, contextID, modeFlags, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 807 "OSA.c"
	XSprePUSH; PUSHu((UV)RETVAL);
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSADoEvent); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSADoEvent)
{
    dXSARGS;
    if (items != 4)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSADoEvent(scriptingComponent, theAppleEvent, contextID, modeFlags)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	AEDesc	theAppleEvent;
	OSAID	contextID = (unsigned long)SvUV(ST(2));
	long	modeFlags = (long)SvIV(ST(3));
	AEDesc	RETVAL;

	if (sv_isa(ST(1), "AEDesc"))
	    memcpy(&theAppleEvent, SvPV_nolen((SV*)SvRV(ST(1))), sizeof(AEDesc));
	else
	    croak("theAppleEvent is not of type AEDesc");
#line 663 "OSA.xs"
	AECreateAppleEvent(NULL, NULL, NULL, NULL, NULL, &RETVAL);
	if (gMacPerl_OSErr = (short) OSADoEvent(scriptingComponent, &theAppleEvent, contextID, modeFlags, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 835 "OSA.c"
	ST(0) = sv_newmortal();
	sv_setref_pvn(ST(0), "AEDesc", (void*)&RETVAL, sizeof(AEDesc));
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSAMakeContext); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSAMakeContext)
{
    dXSARGS;
    if (items < 2 || items > 3)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSAMakeContext(scriptingComponent, contextName, parentContext = 0)");
    {
	ComponentInstance	scriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	AEDesc	contextName;
	OSAID	parentContext;
	OSAID	RETVAL;
	dXSTARG;

	if (sv_isa(ST(1), "AEDesc"))
	    memcpy(&contextName, SvPV_nolen((SV*)SvRV(ST(1))), sizeof(AEDesc));
	else
	    croak("contextName is not of type AEDesc");

	if (items < 3)
	    parentContext = 0;
	else {
	    parentContext = (unsigned long)SvUV(ST(2));
	}
#line 684 "OSA.xs"
	if (gMacPerl_OSErr = (short) OSAMakeContext(scriptingComponent, &contextName, parentContext, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 869 "OSA.c"
	XSprePUSH; PUSHu((UV)RETVAL);
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSAGetDefaultScriptingComponent); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSAGetDefaultScriptingComponent)
{
    dXSARGS;
    if (items != 1)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSAGetDefaultScriptingComponent(genericScriptingComponent)");
    {
	ComponentInstance	genericScriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	OSType	RETVAL;
#line 705 "OSA.xs"
	if (gMacPerl_OSErr = (short) OSAGetDefaultScriptingComponent(genericScriptingComponent, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 888 "OSA.c"
	ST(0) = sv_newmortal();
	{ OSType hos = htonl(RETVAL);
	  sv_setpvn(ST(0), (char *) &hos, 4);
	}
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSASetDefaultScriptingComponent); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSASetDefaultScriptingComponent)
{
    dXSARGS;
    if (items != 2)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSASetDefaultScriptingComponent(genericScriptingComponent, scriptingSubType)");
    {
	ComponentInstance	genericScriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	OSType	scriptingSubType;
	OSAError	RETVAL;
	dXSTARG;

	memcpy(&scriptingSubType, SvPV_nolen(ST(1)), sizeof(OSType));
	scriptingSubType = ntohl(scriptingSubType);

	RETVAL = OSASetDefaultScriptingComponent(genericScriptingComponent, scriptingSubType);
	XSprePUSH; PUSHi((IV)!(gMacPerl_OSErr = (short)(RETVAL)));
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSAGetScriptingComponent); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSAGetScriptingComponent)
{
    dXSARGS;
    if (items != 2)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSAGetScriptingComponent(genericScriptingComponent, scriptingSubType)");
    {
	ComponentInstance	genericScriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	OSType	scriptingSubType;
	ComponentInstance	RETVAL;
	dXSTARG;

	memcpy(&scriptingSubType, SvPV_nolen(ST(1)), sizeof(OSType));
	scriptingSubType = ntohl(scriptingSubType);
#line 741 "OSA.xs"
	if (gMacPerl_OSErr = (short) OSAGetScriptingComponent(genericScriptingComponent, scriptingSubType, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 936 "OSA.c"
	XSprePUSH; PUSHi(PTR2IV(RETVAL));
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSAGetScriptingComponentFromStored); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSAGetScriptingComponentFromStored)
{
    dXSARGS;
    if (items != 2)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSAGetScriptingComponentFromStored(genericScriptingComponent, scriptData)");
    {
	ComponentInstance	genericScriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	AEDesc	scriptData;
	OSType	RETVAL;

	if (sv_isa(ST(1), "AEDesc"))
	    memcpy(&scriptData, SvPV_nolen((SV*)SvRV(ST(1))), sizeof(AEDesc));
	else
	    croak("scriptData is not of type AEDesc");
#line 760 "OSA.xs"
	if (gMacPerl_OSErr = (short) OSAGetScriptingComponentFromStored(genericScriptingComponent, &scriptData, &RETVAL)) {
		XSRETURN_UNDEF;
	}
#line 961 "OSA.c"
	ST(0) = sv_newmortal();
	{ OSType hos = htonl(RETVAL);
	  sv_setpvn(ST(0), (char *) &hos, 4);
	}
    }
    XSRETURN(1);
}

XS(XS_Mac__OSA_OSAGenericToRealID); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSAGenericToRealID)
{
    dXSARGS;
    if (items != 2)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSAGenericToRealID(genericScriptingComponent, genericScriptID)");
    SP -= items;
    {
	ComponentInstance	genericScriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	OSAID	genericScriptID = (unsigned long)SvUV(ST(1));
#line 779 "OSA.xs"
	ComponentInstance	exactScriptingComponent;
#line 982 "OSA.c"
#line 781 "OSA.xs"
	if (gMacPerl_OSErr = (short) OSAGenericToRealID(genericScriptingComponent, &genericScriptID, &exactScriptingComponent)) {
		XSRETURN_EMPTY;
	}
	EXTEND(sp, 1);
	++sp;
	*sp = sv_newmortal();
	sv_setuv(*sp, (UV)(genericScriptID));
	EXTEND(sp, 1);
	++sp;
	*sp = sv_newmortal();
	sv_setiv(*sp, PTR2IV((exactScriptingComponent)));
#line 995 "OSA.c"
	PUTBACK;
	return;
    }
}

XS(XS_Mac__OSA_OSARealToGenericID); /* prototype to pass -Wmissing-prototypes */
XS(XS_Mac__OSA_OSARealToGenericID)
{
    dXSARGS;
    if (items != 3)
	Perl_croak(aTHX_ "Usage: Mac::OSA::OSARealToGenericID(genericScriptingComponent, theScriptID, theExactComponent)");
    {
	ComponentInstance	genericScriptingComponent = INT2PTR(ComponentInstance,SvIV(ST(0)));
	OSAID	theScriptID = (unsigned long)SvUV(ST(1));
	ComponentInstance	theExactComponent = INT2PTR(ComponentInstance,SvIV(ST(2)));
	OSAID	RETVAL;
	dXSTARG;
#line 804 "OSA.xs"
	RETVAL = theScriptID;
	if (gMacPerl_OSErr = (short) OSARealToGenericID(genericScriptingComponent, &RETVAL, theExactComponent)) {
		XSRETURN_UNDEF;
	}
#line 1018 "OSA.c"
	XSprePUSH; PUSHu((UV)RETVAL);
    }
    XSRETURN(1);
}

#ifdef __cplusplus
extern "C"
#endif
XS(boot_Mac__OSA); /* prototype to pass -Wmissing-prototypes */
XS(boot_Mac__OSA)
{
    dXSARGS;
    char* file = __FILE__;

    XS_VERSION_BOOTCHECK ;

        newXS("Mac::OSA::OSALoad", XS_Mac__OSA_OSALoad, file);
        newXS("Mac::OSA::OSAStore", XS_Mac__OSA_OSAStore, file);
        newXS("Mac::OSA::OSAExecute", XS_Mac__OSA_OSAExecute, file);
        newXS("Mac::OSA::OSADisplay", XS_Mac__OSA_OSADisplay, file);
        newXS("Mac::OSA::OSAScriptError", XS_Mac__OSA_OSAScriptError, file);
        newXS("Mac::OSA::OSADispose", XS_Mac__OSA_OSADispose, file);
        newXS("Mac::OSA::OSASetScriptInfo", XS_Mac__OSA_OSASetScriptInfo, file);
        newXS("Mac::OSA::OSAGetScriptInfo", XS_Mac__OSA_OSAGetScriptInfo, file);
        newXS("Mac::OSA::OSASetProperty", XS_Mac__OSA_OSASetProperty, file);
        newXS("Mac::OSA::OSAGetProperty", XS_Mac__OSA_OSAGetProperty, file);
        newXS("Mac::OSA::OSAGetAppTerminology", XS_Mac__OSA_OSAGetAppTerminology, file);
        newXS("Mac::OSA::OSAScriptingComponentName", XS_Mac__OSA_OSAScriptingComponentName, file);
        newXS("Mac::OSA::OSACompile", XS_Mac__OSA_OSACompile, file);
        newXS("Mac::OSA::OSACopyID", XS_Mac__OSA_OSACopyID, file);
        newXS("Mac::OSA::OSAGetSource", XS_Mac__OSA_OSAGetSource, file);
        newXS("Mac::OSA::OSACoerceFromDesc", XS_Mac__OSA_OSACoerceFromDesc, file);
        newXS("Mac::OSA::OSACoerceToDesc", XS_Mac__OSA_OSACoerceToDesc, file);
        newXS("Mac::OSA::OSASetDefaultTarget", XS_Mac__OSA_OSASetDefaultTarget, file);
        newXS("Mac::OSA::OSAStartRecording", XS_Mac__OSA_OSAStartRecording, file);
        newXS("Mac::OSA::OSAStopRecording", XS_Mac__OSA_OSAStopRecording, file);
        newXS("Mac::OSA::OSALoadExecute", XS_Mac__OSA_OSALoadExecute, file);
        newXS("Mac::OSA::OSACompileExecute", XS_Mac__OSA_OSACompileExecute, file);
        newXS("Mac::OSA::OSADoScript", XS_Mac__OSA_OSADoScript, file);
        newXS("Mac::OSA::OSASetCurrentDialect", XS_Mac__OSA_OSASetCurrentDialect, file);
        newXS("Mac::OSA::OSAGetCurrentDialect", XS_Mac__OSA_OSAGetCurrentDialect, file);
        newXS("Mac::OSA::OSAAvailableDialects", XS_Mac__OSA_OSAAvailableDialects, file);
        newXS("Mac::OSA::OSAGetDialectInfo", XS_Mac__OSA_OSAGetDialectInfo, file);
        newXS("Mac::OSA::OSAAvailableDialectCodeList", XS_Mac__OSA_OSAAvailableDialectCodeList, file);
        newXS("Mac::OSA::OSAExecuteEvent", XS_Mac__OSA_OSAExecuteEvent, file);
        newXS("Mac::OSA::OSADoEvent", XS_Mac__OSA_OSADoEvent, file);
        newXS("Mac::OSA::OSAMakeContext", XS_Mac__OSA_OSAMakeContext, file);
        newXS("Mac::OSA::OSAGetDefaultScriptingComponent", XS_Mac__OSA_OSAGetDefaultScriptingComponent, file);
        newXS("Mac::OSA::OSASetDefaultScriptingComponent", XS_Mac__OSA_OSASetDefaultScriptingComponent, file);
        newXS("Mac::OSA::OSAGetScriptingComponent", XS_Mac__OSA_OSAGetScriptingComponent, file);
        newXS("Mac::OSA::OSAGetScriptingComponentFromStored", XS_Mac__OSA_OSAGetScriptingComponentFromStored, file);
        newXS("Mac::OSA::OSAGenericToRealID", XS_Mac__OSA_OSAGenericToRealID, file);
        newXS("Mac::OSA::OSARealToGenericID", XS_Mac__OSA_OSARealToGenericID, file);
    XSRETURN_YES;
}

